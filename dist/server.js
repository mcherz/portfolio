module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=10)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("dot-prop-immutable")},function(e,t){e.exports=require("bowser")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("heroku-ssl-redirect")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("elizabot")},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(6),i=n.n(a),c=n(5),l=n.n(c),s=n(7),u=n.n(s),p=function(e){return o.a.createElement("html",null,o.a.createElement("head",null,o.a.createElement("title",null,"Matt Herz"),o.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"styles.css"}),o.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})),o.a.createElement("body",null,o.a.createElement("div",{id:"app"},e),o.a.createElement("script",{src:"bundle.js"})))},f=n(4),m=n(3),y=n(8),h=n.n(y),d=n(1),b=n.n(d),E={APP_RESPONSE:"app",USER_QUERY:"query",MAX_CONVERSATION:6,CONVERSATION_LAG:400,LISTENING_TIMEOUT:14e3},v="ADD_RESPONSE",w=function(e,t){return{type:v,payload:{party:e,text:t}}},g="CLEAR_RESPONSES",S="SET_BUTTON_ACTIVE",O=function(e){return{type:S,payload:e}},x="INCREMENT_RESPONSE_COUNT";function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var A={buttonActive:!0,responseArray:[{party:E.APP_RESPONSE,text:"Hi there. Let's chat."}],responseCount:0};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var n=_(e.responseArray);return n.push(t.payload),n.length>E.MAX_CONVERSATION&&n.shift(),b.a.set(e,"responseArray",n);case g:return b.a.set(e,"responseArray",[]);case S:return b.a.set(e,"buttonActive",t.payload);case x:return b.a.set(e,"responseCount",e.responseCount+1);default:return e}},T="SET_SPEECH_SYNTH_ACTIVE",j=function(e){return{type:T,payload:e}},C="SET_SPEECH_REC_ACTIVE",N=function(e){return{type:C,payload:e}},P="SET_MODAL_OPEN",R=function(e){return{type:P,payload:e}},I="SET_RECOGNIZER",z={speechSynthActive:!1,speechRecActive:!1,recognizer:null,modalOpen:!1};var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return b.a.set(e,"speechSynthActive",t.payload);case C:return b.a.set(e,"speechRecActive",t.payload);case P:return b.a.set(e,"modalOpen",t.payload);case I:return b.a.set(e,"recognizer",t.payload);default:return e}},M=Object(m.combineReducers)({response:k,speech:L}),D=n(2),H=n.n(D);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,a=(e=q(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==U(a)&&"function"!=typeof a?V(r):a,G(V(n),"renderResponses",function(){for(var e=[],t=0;t<n.props.responseArray.length;t++){var r=n.props.responseArray[t];e.push(o.a.createElement("div",{key:t,className:r.party===E.APP_RESPONSE?"response":"query"},r.text))}return e}),G(V(n),"render",function(){return o.a.createElement("div",{className:"conversation"},n.renderResponses())}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,o.a.Component),t}(),X=o.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-volume-2"},o.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),o.a.createElement("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})),K=o.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-volume-x"},o.a.createElement("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),o.a.createElement("line",{x1:"23",y1:"9",x2:"17",y2:"15"}),o.a.createElement("line",{x1:"17",y1:"9",x2:"23",y2:"15"}));function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $,ee=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return r=this,a=(e=F(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Y(a)&&"function"!=typeof a?Q(r):a,Z(Q(n),"componentDidMount",function(){n.typeEntry&&n.typeEntry.focus()}),Z(Q(n),"handleButtonClick",function(){n.typeEntry.value.trim().length>0&&(n.props.submitText(n.typeEntry.value),n.typeEntry.value="")}),Z(Q(n),"handleInputKeydown",function(e){13===e.keyCode&&(e.preventDefault(),n.handleButtonClick())}),Z(Q(n),"handleTheAwesomeWay",function(){n.props.setModalOpen(!1),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){e.getTracks()[0].stop(),n.props.startSpeechRecognition()}).catch(function(){})}),Z(Q(n),"renderEntry",function(){return n.props.speechRecActive?null:o.a.createElement("div",{className:"entry"},o.a.createElement("input",{ref:function(e){n.typeEntry=e},className:"type-entry",type:"text",onKeyDown:n.handleInputKeydown}),o.a.createElement("button",{className:"type-commit",onClick:n.handleButtonClick},"Say it"))}),Z(Q(n),"renderInputSubtitle",function(){return"Chrome"===H.a.name&&"ios"!==H.a.osname?n.props.speechRecActive?null:o.a.createElement("div",{id:"awesome",className:"input-subtitle"},"Want to try this",o.a.createElement("a",{onClick:function(){n.props.setModalOpen(!0)}},"the awesome way"),"?"):H.a.x?null:o.a.createElement("div",{id:"chrome",className:"input-subtitle"},"Protip: the coolest part only works in ",o.a.createElement("a",{href:"https://www.google.com/chrome/browser/",target:"_blank",rel:"noreferrer noopener"},"Chrome"),".")}),Z(Q(n),"renderSoundControl",function(){return o.a.createElement("div",{className:"synth-control",onClick:function(){n.props.setSpeechSynthActive(!n.props.speechSynthActive)}},n.props.speechSynthActive?K:X)}),Z(Q(n),"renderTakeover",function(){return o.a.createElement("div",{className:"takeover"},o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-text"},"Spoiler alert: the awesome way is voice recognition."),o.a.createElement("div",{className:"modal-text"},"In just a sec, the browser will ask you to allow microphone access (because otherwise there's nothing to recognize.)"),o.a.createElement("div",{className:"modal-buttons"},o.a.createElement("button",{className:"modal-confirm",onClick:n.handleTheAwesomeWay},"Let's do it!"),o.a.createElement("button",{className:"modal-cancel",onClick:function(){n.props.setModalOpen(!1)}},"Creepy, no."))))}),Z(Q(n),"render",function(){return o.a.createElement("div",{className:"portfolio",style:{height:n.props.pageHeight}},o.a.createElement("div",{className:"wrapper"},o.a.createElement(W,{responseArray:n.props.responseArray}),n.renderEntry(),n.renderInputSubtitle()),n.props.speechRecActive?null:n.renderSoundControl(),n.props.modalOpen?n.renderTakeover():null)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(t,o.a.Component),t}(),te=n(9),ne=n.n(te),re=function(e,t,n){var r={resume:{jsx:o.a.createElement("span",null,"I should probably update my resume. For now, here's my ",o.a.createElement("a",{href:"https://www.linkedin.com/in/matt-herz",target:"_blank",rel:"noreferrer noopener"},"LinkedIn Profile"),"."),plainText:"I should probably update my resume. For now, here's my LinkedIn Profile."},linkedin:{jsx:o.a.createElement("span",null,"How about a link to my ",o.a.createElement("a",{href:"https://www.linkedin.com/in/matt-herz",target:"_blank",rel:"noreferrer noopener"},"LinkedIn Profile"),"?"),plainText:"How about a link to my LinkedIn Profile?"},twitter:{jsx:o.a.createElement("span",null,"So much for professionalism: ",o.a.createElement("a",{href:"https://www.twitter.com/mattiherz",target:"_blank",rel:"noreferrer noopener"},"@mattiherz"),"."),plainText:"So much for professionalism: at matty herz."},email:{jsx:o.a.createElement("span",null,"I'd throw in a mailto: link, but those are terrible. Copy-paste mcherz@gmail.com and have at it."),plainText:"It's m c h e r z at g mail dot com. Good luck copy pasting that."},phone:{jsx:o.a.createElement("span",null,"I'm honestly a little gunshy about putting my cell phone number where internet weirdos can find it. Try email?"),plainText:"How does that song go? Eight six seven five three oh nine? No, wait, that's Jenny, not me."},alexa:{jsx:o.a.createElement("span",null,"Alexa, order six tons of chipped beef. Alexa, confirm purchase."),plainText:"Alexa, order six tons of chipped beef. Alexa, confirm purchase."},cortana:{jsx:o.a.createElement("span",null,"Cortana, Cortana, Cortana. I feel like I should recognize that name."),plainText:"Cortana, Cortana, Cortana. I feel like I should recognize that name."},google:{jsx:o.a.createElement("span",null,"Ok, Google. Play Drive by the Cars."),plainText:"Ok, Google. Play Drive by the Cars."},siri:{jsx:o.a.createElement("span",null,"Hey, Siri. How many developer years has Apple spent on you to date?"),plainText:"Hey, Siri. How many developer years has Apple spent on you to date?"},eliza:{jsx:o.a.createElement("span",null,"Come now. If you could plug an open source chatbot in for free, you wouldn't write one either."),plainText:"Come now. If you could plug an open source chatbot in for free, you wouldn't write one either."},open_source:{jsx:o.a.createElement("span",null,"Sure, take a look. It's at ",o.a.createElement("a",{href:"https://github.com/mcherz/portfolio",target:"_blank",rel:"noreferrer noopener"},"https://github.com/mcherz/portfolio"),"."),plainText:"Sure, take a look. It's at github dot com slash m c h e r z slash portfolio."},use_speech:{jsx:o.a.createElement("span",null,"It turns out there's an even more fun ",o.a.createElement("a",{onClick:function(){n(R(!0))}},"way to do this"),"..."),plainText:"It turns out there's an even more fun way to do this..."},prompt_magic:{jsx:o.a.createElement("span",null,"If you're annoyed with Eliza's responses, you can ask me for contact info (or go looking for Easter eggs...)"),plainText:"If you're annoyed with Eliza's responses, you can ask me for contact info (or go looking for Easter eggs...)"},easter_eggs:{jsx:o.a.createElement("span",null,"I can't just TELL you what they all are; that wouldn't be fun. (But the 'Alexa' one is probably my favorite.)"),plainText:"I can't just TELL you what they all are; that wouldn't be fun. (But the 'Alexa' one is probably my favorite)."}},a=2===t.response.responseCount&&!t.speech.speechRecActive&&"Chrome"===H.a.name&&"ios"!==H.a.osname,i=e.toLowerCase();switch(!0){case a:return r.use_speech;case 12===t.response.responseCount:return r.prompt_magic;case null!==i.match("resume"):return r.resume;case null!==i.match("linkedin"):return r.linkedin;case null!==i.match("twitter"):return r.twitter;case null!==i.match("alexa"):return r.alexa;case null!==i.match("cortana"):return r.cortana;case null!==i.match("google"):return r.google;case null!==i.match("siri"):return r.siri;case null!==i.match("eliza"):return r.eliza;case null!==i.match("open source"):case null!==i.match("source code"):return r.open_source;case null!==i.match("email"):case null!==i.match("contact"):return r.email;case null!==i.match("phone"):return r.phone;case null!==i.match("easter egg"):return r.easter_eggs;default:var c=(new ne.a).transform(e);return{jsx:o.a.createElement("span",null,c),plainText:c}}},oe=function(){return function(e){var t=new window.webkitSpeechRecognition;t.lang="en-US",t.interimResults=!1,t.maxAlternatives=5,t.start();var n=!0;t.onresult=function(t){e(ae(t.results[0][0].transcript)),n=!1},t.onend=function(){n&&t.start()}}},ae=function(e){return function(t,n){var r=n();r.response.buttonActive&&(t(O(!1)),t(w(E.USER_QUERY,e)),setTimeout(function(){var n=re(e,r,t);if(t(w(E.APP_RESPONSE,n.jsx)),t({type:x}),r.speech.speechSynthActive){var o=new SpeechSynthesisUtterance(n.plainText);r.speech.speechRecActive&&(o.onend=function(){t(oe())}),speechSynthesis.speak(o)}t(O(!0))},E.CONVERSATION_LAG))}},ie=function(){return function(e){e(N(!0)),e(j(!0)),e({type:g}),e(w(E.APP_RESPONSE,"Talk to me, goose! No, really, just start talking."));var t=new SpeechSynthesisUtterance("Talk to me, goose! No, really, just start talking.");t.onend=function(){e(oe())},speechSynthesis.speak(t)}},ce=Object(f.connect)(function(e){return{modalOpen:e.speech.modalOpen,responseArray:e.response.responseArray,speechRecActive:e.speech.speechRecActive,speechSynthActive:e.speech.speechSynthActive}},function(e){return{setModalOpen:function(t){e(R(t))},setSpeechRecActive:function(t){e(N(t))},setSpeechSynthActive:function(t){e(j(t))},startSpeechRecognition:function(){e(ie())},submitText:function(t){e(ae(t))}}})(ee);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ue(this,pe(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){var e=("object"===("undefined"==typeof window?"undefined":le(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"portfolio"}):m.compose)(Object(m.applyMiddleware)(h.a)),t=this.props;$=Object(m.createStore)(M,t,e)}},{key:"render",value:function(){return o.a.createElement(f.Provider,{store:$},o.a.createElement(ce,null))}}])&&se(n.prototype,r),a&&se(n,a),t}(),ye=l()(),he=process.env.PORT||8080;ye.use(u()()),ye.use(l.a.static("dist")),ye.get("/",function(e,t){i.a.renderToNodeStream(p(o.a.createElement(me))).pipe(t)}),ye.listen(he,function(){console.log("listening on port ".concat(he,"..."))})}]);